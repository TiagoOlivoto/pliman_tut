analyze_objects(f0,
my_index = "(G+B)^3-R",
watershed = FALSE,
filter = 30)
meas <- get_measures(res, dpi = 254)
plot_measures(meas,
col = "black",
measure = "diam_mean",
size = 2)
res <-
analyze_objects(f0,
my_index = "(G+B)^3-R",
watershed = FALSE,
filter = 30,
contour_size = 3,
contour_col = "black")
meas <- get_measures(res, dpi = 254)
plot_measures(meas,
col = "black",
measure = "diam_mean",
size = 2)
plot_measures(meas,
col = "white",
measure = "diam_mean",
size = 2)
760 / 430
940/1.76
fs::dir_tree("E:/Desktop/UFSC/cursos/pliman_tut/imgs", recurse = 1)
library(pliman)
library(rio)
set_wd_here()
# nome da pasta
folder <- "07_07"
# mudar os nomes
nomes <-
import("nomes.xlsx") |>
subset(EPOCA == "E1")
code_fotos <- nomes$CODE_PLANTA
manipulate_files(pattern = "2022",
dir = paste0("./", folder),
name = code_fotos,
prefix = "img_07_07_",
save_to = folder,
remove_original = TRUE)
apply_fun_to_imgs(pattern = "img_",
fun = image_resize,
rel_size = 50,
dir_original = folder,
dir_processed = folder)
folder
apply_fun_to_imgs(pattern = "img_",
fun = image_resize,
rel_size = 50,
dir_original = folder,
dir_processed = folder)
manipulate_files(pattern = "2022",
dir = paste0("./", folder),
name = code_fotos,
prefix = "img_07_07_",
save_to = folder,
remove_original = TRUE)
apply_fun_to_imgs(pattern = "img_",
fun = image_resize,
rel_size = 50,
dir_original = folder,
dir_processed = folder)
apply_fun_to_imgs(pattern = "img_",
fun = image_autocrop,
index = "R",
edge = 20,
dir_original = folder,
dir_processed = folder)
# nome da pasta
folder <- "linhaca"
apply_fun_to_imgs(pattern = "img_",
fun = image_resize,
rel_size = 50,
dir_original = folder,
dir_processed = folder)
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folha",
background = "fundo",
reference = "ref",
reference_area = 20,
contour_size = 2,
marker = "length",
save_image = FALSE)
setwd("E:/Desktop/UFSC/cursos/pliman_tut/imgs")
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folha",
background = "fundo",
reference = "ref",
reference_area = 20,
contour_size = 2,
marker = "length",
save_image = FALSE)
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
contour_size = 2,
marker = "length",
save_image = FALSE)
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
contour_size = 2,
marker = "length",
filter = 5,
save_image = FALSE)
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
contour_size = 2,
marker = "length",
filter = 2,
save_image = FALSE)
# nome da pasta
folder <- "linhaca"
apply_fun_to_imgs(pattern = "img_",
fun = image_resize,
rel_size = 200,
dir_original = folder,
dir_processed = folder)
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
contour_size = 2,
marker = "length",
filter = 2)
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
watershed = FALSE,
filter = 3)
area <- res$results
View(area)
area <- res$results |> separate_col(img, into = c("img", "dia", "mes", "block", "season", "cultivar", "plant"))
View(area)
library(ggplot2)
ggplot(area, aes(dia, area)) + geom_point()
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
watershed = FALSE,
filter = 3)
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
watershed = FALSE,
filter = 5)
area <-
res$results |>
separate_col(img,
into = c("img", "avaliacao", "block", "season", "cultivar", "plant"))
ggplot(area, aes(avaliacao, area)) + geom_point()
area
ggplot(area, aes(avaliacao, area)) +
stat_summary(geom = "poin",
fun = sum)
ggplot(area, aes(avaliacao, area)) +
stat_summary(geom = "point",
fun = sum)
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
watershed = FALSE,
filter = 3)
area <-
res$results |>
separate_col(img,
into = c("img", "avaliacao", "block", "season", "cultivar", "plant"))
ggplot(area, aes(avaliacao, area)) +
stat_summary(geom = "point",
fun = sum)
View(area)
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "exem_b",
background = "fundolin",
reference = "reflin",
reference_area = 20,
watershed = FALSE,
filter = 3)
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
watershed = FALSE,
filter = 3)
area <-
res$results |>
separate_col(img,
into = c("img", "avaliacao", "block", "season", "cultivar", "plant"))
ggplot(area, aes(avaliacao, area)) +
stat_summary(geom = "point",
fun = sum)
ggplot(area, aes(avaliacao, area)) +
stat_summary(geom = "point",
fun = sum) +
facet_wrap(epoca~cultivar)
ggplot(area, aes(avaliacao, area)) +
stat_summary(geom = "point",
fun = sum) +
facet_wrap(season~cultivar)
ggplot(area, aes(avaliacao, area)) +
stat_summary(geom = "point",
fun = sum) +
facet_wrap(season~cultivar)
ggplot(area, aes(avaliacao, area)) +
stat_summary(geom = "point",
fun = sum) +
facet_wrap(~cultivar)
ggplot(area, aes(avaliacao, area)) +
stat_summary(geom = "point",
fun = mean) +
facet_wrap(~cultivar)
ggplot(area, aes(avaliacao, area)) +
stat_summary(geom = "point",
fun = sum) +
facet_wrap(~cultivar)
area |> metan::means_by(avaliacao)
area |> metan::sum_by(avaliacao)
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
watershed = FALSE,
filter = 3)
area <-
res$results |>
separate_col(img,
into = c("img", "avaliacao", "block"))
ggplot(area, aes(avaliacao, area)) +
stat_summary(geom = "point",
fun = sum) +
facet_wrap(~cultivar)
ggplot(area, aes(avaliacao, area)) +
stat_summary(geom = "point",
fun = sum)
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
watershed = FALSE,
filter = 3)
area <-
res$results |>
separate_col(img,
into = c("img", "avaliacao", "block"))
ggplot(area, aes(avaliacao, area)) +
stat_summary(geom = "point",
fun = sum)
library(metan)
area |> group_by(avaliacao, block) |> desc_stat(area, stats = c("mean, sd.amo"))
area |> sum_by(avaliacao, block, .vars = area) |>  group_by(avaliacao, block) |> desc_stat(area, stats = c("mean, sd.amo"))
area |> sum_by(avaliacao, block, .vars = area)
area |> sum_by(avaliacao, block, .vars = area) |>  group_by(avaliacao, block) |> desc_stat(area, stats = c("mean, sd.amo"))
area |> sum_by(avaliacao, block, .vars = area) |>  group_by(avaliacao) |> desc_stat(area, stats = c("mean, sd.amo"))
df_plot <-
area |>
sum_by(avaliacao, block, .vars = area) |>
group_by(avaliacao) |>
desc_stat(area, stats = c("mean, sd.amo"))
ggplot(df_plot, aes(avaliacao, area)) +
stat_summary(geom = "point",
fun = sum)
ggplot(df_plot, aes(avaliacao, area)) +
geom_point()
df_plot
ggplot(df_plot, aes(avaliacao, mean)) +
geom_point()
ggplot(df_plot, aes(avaliacao, mean)) +
geom_point() +
geom_errorbar(aes(xmin = mean - sd.amo,
xmax = mean + sd.amo))
ggplot(df_plot, aes(avaliacao, mean)) +
geom_point() +
geom_errorbarh(aes(xmin = mean - sd.amo,
xmax = mean + sd.amo))
ggplot(df_plot, aes(avaliacao, mean)) +
geom_point() +
geom_errorbarh(aes(xmin = mean - sd.amo,
xmax = mean + sd.amo))
ggplot(df_plot, aes(avaliacao, mean)) +
geom_point() +
geom_errorbarh(aes(ymin = mean - sd.amo,
ymax = mean + sd.amo))
ggplot(df_plot, aes(avaliacao, mean)) +
geom_point() +
geom_errorbarh(aes(ymin = mean - sd.amo,
ymax = mean + sd.amo))
ggplot(df_plot, aes(avaliacao, mean)) +
geom_point() +
geom_errorbarh(aes(xmin = mean - sd.amo,
xmax = mean + sd.amo))
ggplot(df_plot, aes(avaliacao, mean)) +
geom_point() +
geom_errorbar(aes(ymin = mean - sd.amo,
ymax = mean + sd.amo))
ggplot(df_plot, aes(avaliacao, mean)) +
geom_point() +
geom_errorbar(aes(ymin = mean - sd.amo,
ymax = mean + sd.amo),
width = 0.2)
ggplot(df_plot, aes(avaliacao, mean)) +
geom_point() +
geom_errorbar(aes(ymin = mean - sd.amo,
ymax = mean + sd.amo),
width = 0.2) +
labs(x = "Período de avaliação",
y = "Área foliar (cm2 por planta)")
df_plot2 <-
area |>
sum_by(avaliacao, block, .vars = area) |>
group_by(avaliacao) |>
desc_stat(area, stats = c("mean, sd.amo"))
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
watershed = FALSE,
filter = 3)
area <-
res$results |>
separate_col(img,
into = c("img", "avaliacao", "block"))
df_plot <-
area |>
sum_by(avaliacao, block, .vars = area) |>
group_by(avaliacao) |>
desc_stat(area, stats = c("mean, sd.amo"))
View(df_plot)
View(df_plot2)
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
watershed = FALSE,
filter = 3)
area <-
res$results |>
separate_col(img,
into = c("img", "avaliacao", "block"))
df_plot2 <-
area |>
sum_by(avaliacao, block, .vars = area) |>
group_by(avaliacao) |>
desc_stat(area, stats = c("mean, sd.amo"))
View(df_plot)
View(df_plot2)
analyze_objects
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
watershed = FALSE,
nrows = 1000,
filter = 3)
area <-
res$results |>
separate_col(img,
into = c("img", "avaliacao", "block"))
df_plot <-
area |>
sum_by(avaliacao, block, .vars = area) |>
group_by(avaliacao) |>
desc_stat(area, stats = c("mean, sd.amo"))
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
watershed = FALSE,
nrows = 1000,
filter = 3)
area <-
res$results |>
separate_col(img,
into = c("img", "avaliacao", "block"))
df_plot2 <-
area |>
sum_by(avaliacao, block, .vars = area) |>
group_by(avaliacao) |>
desc_stat(area, stats = c("mean, sd.amo"))
View(df_plot)
View(df_plot2)
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
watershed = FALSE,
nrows = 500,
filter = 3)
area <-
res$results |>
separate_col(img,
into = c("img", "avaliacao", "block"))
df_plot <-
area |>
sum_by(avaliacao, block, .vars = area) |>
group_by(avaliacao) |>
desc_stat(area, stats = c("mean, sd.amo"))
res <-
analyze_objects(pattern = "img_",
dir_original = "linhaca",
foreground = "folhalin",
background = "fundolin",
reference = "reflin",
reference_area = 20,
watershed = FALSE,
nrows = 500,
filter = 3)
area <-
res$results |>
separate_col(img,
into = c("img", "avaliacao", "block"))
df_plot2 <-
area |>
sum_by(avaliacao, block, .vars = area) |>
group_by(avaliacao) |>
desc_stat(area, stats = c("mean, sd.amo"))
View(df_plot)
View(df_plot2)
ggplot(df_plot, aes(avaliacao, mean)) +
geom_point() +
geom_errorbar(aes(ymin = mean - sd.amo,
ymax = mean + sd.amo),
width = 0.2) +
labs(x = "Período de avaliação",
y = "Área foliar (cm2 por planta)") +
theme_classic()
ggplot(df_plot, aes(avaliacao, mean)) +
geom_point() +
geom_errorbar(aes(ymin = mean - sd.amo,
ymax = mean + sd.amo),
width = 0.2) +
labs(x = "Período de avaliação",
y = "Área foliar (cm2 por planta)") +
theme_bw()
ggplot(df_plot, aes(avaliacao, mean)) +
geom_point() +
geom_errorbar(aes(ymin = mean - sd.amo,
ymax = mean + sd.amo),
width = 0.2) +
labs(x = "Período de avaliação",
y = "Área foliar (cm2 por planta)") +
theme_bw(base_size = 16)
fs::dir_tree("E:/Desktop/UFSC/cursos/pliman_tut/imgs", recurse = 2)
fs::dir_tree("E:/Desktop/UFSC/cursos/pliman_tut/imgs")
fs::dir_tree("E:/Desktop/UFSC/cursos/pliman_tut")
fs::dir_tree("E:/Desktop/UFSC/cursos/pliman_tut", recurse = 1)
fs::dir_tree("E:/Desktop/UFSC/cursos/pliman_tut/imgs", recurse = 1)
